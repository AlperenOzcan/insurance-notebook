<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<head>
		 <!-- Required meta tags for Bootstrap-->
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">

    	<!-- Bootstrap CSS -->
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		
		
		<title>Insurance Notebook</title>
	</head>
	
	<body>
		<div class="container">
			
			<h2>Update Quote</h2>
			<hr> 
			
			<div>
				<h4> Customer Informations </h4>  
				<div> 
					<b>Name Surname:</b> 
					<span th:text="${theCustomer.firstName}">First Name</span>
					<span th:text="${theCustomer.lastName}">Last Name</span>
				</div> 
				<div>
					<b>Insurance Type:</b>
					<span th:text="${quote.insuranceType}">Type</span> <br>
					<b>Last Quote:</b>
					<span th:text="${quote.premium}"></span> <br>
					<b>Last Quote's Date:</b>
					<span th:text="${quote.date}"></span>
				</div>
			</div>
			
			<hr>
			
			<form action="#" th:action="@{/insurance-quotes/save}" th:object="${quote}" method="POST">
							
				<input type="hidden" th:field="*{id}" />		
			
				<input type="hidden" th:field="*{insuranceType}" />
			
				<label>Acceptance</label>
				<input type="checkbox" th:field="*{acceptance}">
				
				<input type="hidden" th:field="*{customerId.id}" />		
									
				<br><br>
				
				<input type="hidden" th:field="*{customerId}" />		
									
				<button type="submit" class="btn btn-info col-2"
						onclick="if (!(confirm('Are you sure you want to change the status of this insurance quote?'))) return false">
					Update
				</button>
			
			</form>
			
			<hr>
			
			<a th:href="@{/insurance-quotes/list-customer-quotes(customerId=${quote.customerId.id})}">Cancel</a>
			
		</div>
		
	</body>

</html>